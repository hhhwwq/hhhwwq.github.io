---
title: 第十章 DOM，第十三章 事件
date: 2019-12-23 11:36:05
tags: "JavaScript"
tags: "JavaScript高级程序设计"
---

# 第十章 DOM，第十三章 事件


## 第十章 小结

DOM是语言中立的API，用于访问和操作HTML和XML文档。DOM1级将HTML和XML文档形象地看作一个层次化的节点树，可以使用JavaScript来操作这个节点树，进而改变底层文档的外观和结构。

## DOM由各种节点构成，简要总结如下：

1. 最基本的节点类型是Node，用于抽象地表示文档中一个独立的部分；所有其他类型都继承自Node。
2. Document类型表示整个文档，是一组分层节点的根节点。在JavaScript中，document对象是Document的一个实例。使用document对象，有很多方式可以查询和取得节点。
3. Element节点表示文档中所有HTML或XML元素，可以用来操作这些元素的内容和特性。
4. 另外还有一些节点类型，分别表示文本内容，注释，文档类型，CDATA区域和文档片段。

访问DOM的操作在多数情况下都很直观，不过在处理`<script>`和`<style>`元素时还是存在一些复杂性。由于这两个元素分别包含脚本和样本信息，因此浏览器通常会将它们和其他元素区别对待。这些区别导致了在针对这些元素使用`innerHTML`时，以及在创建新元素时的一些问题。

**理解DOM的关键，就是理解DOM对性能的影响**。DOM操作往往是JavaScript程序中开销最大的部分，因而访问`NodeList`导致的问题最多。`NodeList`对象都是“动态”的，这就意味着每次访问NodeList对象，都会运行一次查询。有鉴于此，最好的办法就是尽量减少`DOM`操作。

## 第十三章 小结

事件是将JavaScript与网页联系在一起的主要方式。“DOM3级事件”规范和HTML5定义了常见的大多数事件。即使有规范定义了基本事件，但很多浏览器仍然在规范之外实现了自己的专有事件，从而为开发人员提供更多掌握用户交互的手段。有些专有事件与特定设备关联，例如移动Safari中的一个事件就是特定关联IOS设备的。

## 在使用事件时，需要考虑如下一些内存与性能方面的问题:

1. 
有必要限制一个页面中事件处理程序的数量，数量太多会导致占用大量内存，而且也会让用户感觉页面反应不够灵敏。

2. 
建立在事件冒泡机制之上的事件委托技术，可以有效减少事件处理程序的数量。

3. 
建议在浏览器卸载页面之前移除页面中的所有事件处理程序。

可以使用JavaScript在浏览器中模拟事件。事件是JavaScript中最重要的主题之一，深入理解事件的工作机制以及它们对性能的影响至关重要。

